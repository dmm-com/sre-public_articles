## はじめに
この記事は DMMグループ Advent Calendar 2023 のxx日目の記事です。

こんにちは、SRE部の○○です。
SRE部では、サイトの信頼性向上に寄与するような活動を全社横断で行なっています。

その中で今回は、社内の各種サービスの稼働状態を可視化する仕組み（以下、Internal Status Page）を社内に公開しましたので、
そのお話をしたいと思います。

## なんでもやってるDMM
「領域問わずなんでもやる」を弊社では掲げていますが、文字通りなんでもやっている会社です。
当記事の執筆時点では、サービスは60事業以上におよびます。

さらにこの60事業というのは、あくまで社外に公開しているサービスだけですので、
社内でのみ利用されるサービスも含めると、数はさらに多くなります。

## なぜ Internal Status Pageを作ろうと思ったのか
弊社では数多くのサービスがシステムとして稼働していますが、
サービス提供元となっている各事業部が、それぞれでシステムの監視を行なっています。

そのためサービス単体で見ると、稼働状況が把握できているため、大きな問題はありません。

自身の事業部のサービスだけに閉じた話であれば、それでよいのですが、弊社の場合だと、


社内共通の認証サービスや、会員サービスのAPIを利用している
共通系以外でも、個別のサービスのAPIを呼んでいる（たとえばサービスAがサービスBのAPIを利用している）
といったことがあり、社内の他サービスの稼働状況を知りたいといったケースが多々あります。
また、これらについてサービス提供元に問い合わせたいと思っても、問い合わせ先を調べる必要が出てきます。

社内サービスの稼働状況や、それに紐づく問い合わせ先などを俯瞰的に、
一括で見られるものがなかったという課題があったのです。

## Internal Status Pageについて

### システム構成イメージ

Internal Status Page のシステム構成イメージは以下のとおりです。

![Internal Status Page](img/system_overview.png)

### システム構成についての概要説明

Internal Status Page では主に以下のサービスを利用しています

- Status Page
- PagerDuty
- 事業部ごとに利用している監視ツール
  - Datadog
  - NewRelic
  - StatusCake
  - ...etc

上記のそれぞれの役割は以下のとおりです。

| ツール   | 役割 |
| :--------- | :--- |
| Status Page    | XXX |
| PagerDuty   | XXX |
| 事業部ごとの監視ツール | XXX |


### 障害時のInternal Status Pageの利用イメージ

弊社内のサービスで障害が発生した場合の、Internal Status Pageの利用イメージは以下のとおりです（以下、サービスAで障害が発生したと仮定します）。

1. サービスAで障害が発生
2. 事業部ごとの監視ツールにて障害を検知、その情報をPageDutyに連携
3. PageDutyがXXXX
4. XXXX
5. Internal Status Page がサービスAを障害発生として表示
6. XXXX

上記のように、Internal Status Pageを利用することで、XXX

## 今後の展開

## 最後に
SRE部では仲間を募集しています！
大規模なサービスや新事業の立ち上げなど規模の大小、ジャンル・フェーズが存在する環境でSREを実践しませんか？



それでは皆さん良いクリスマスをお過ごしください〜



